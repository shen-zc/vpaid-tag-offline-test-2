wwplayer.define(["jquery","pubsub","globals","underscore"],function(e,t,a,n){return function(e){var t=this;t.videoElement=e,t.canvas=document.createElement("canvas"),t.canvas.id="timecodeCanvas",t.canvas.width=5,t.canvas.height=5,t.context=t.canvas.getContext("2d"),t.canvas.imageSmoothingEnabled=!1,t.canvas.webkitImageSmoothingEnabled=!1,t.yClipStart=0,t.clipWidth=5,t.clipHeight=5,t.canvasX=0,t.canvasY=0,t.canvasWidth=5,t.canvasHeight=5,t.lastRendered=(new Date).getTime(),t.renderCode=function(){t.xClipStart=t.videoElement.videoWidth-5,t.context.drawImage(t.videoElement,t.xClipStart,t.yClipStart,t.clipWidth,t.clipHeight,t.canvasX,t.canvasY,t.canvasWidth,t.canvasHeight),t.lastRendered=(new Date).getTime()},t.getFrame=function(e){for(var a=t.context.getImageData(0,0,5,5).data,n=0,i=0;i<25;i++)a[4*i]+a[4*i+1]+a[4*i+2]>500&&(n+=Math.pow(2,24-i));return n},t.getOffset=function(){return(new Date).getTime()-t.lastRendered},t.canRenderCode=function(){try{return t.renderCode(),t.getFrame(),!0}catch(e){return!1}}}});